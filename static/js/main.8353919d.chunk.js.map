{"version":3,"sources":["Helpers/Tools.js","OutputViewer.js","Controls/CodeEditor.js","Helpers/Styles.js","Controls/CodeEditorWithToolBar.js","TemplateEditor.js","DataEditor.js","App.js","index.js"],"names":["appBus","createBus","MessageBus","channel","callback","take","message","send","BuildMessageBusChannels","componentName","customChannels","_","isArray","ret","customChannel","name","payload","Name","Payload","Success","NewSuccess","Error","NewError","Closed","NewClosed","Open","NewOpen","SendBusMessage","err","console","log","OutputViewer","this","props","html","indexOf","dangerouslySetInnerHTML","__html","replace","React","Component","CodeEditor","wrapperDiv","editor","state","containerHeight","containerWidth","updateDimensions","prevProps","prevState","path","current","previous","defaultValue","transfrom","cur","get","pre","isFunction","Current","Previous","HasChanged","componentGetCompareProps","rect","getBoundingClientRect","setState","height","width","className","mode","rest","ref","c","r","theme","enableBasicAutocompletion","TopBarAndBody","root","display","gridTemplateRows","gridAutoColumns","gridTemplateAreas","position","boxSizing","topBar","gridArea","body","CodeEditorWithToolBarPlain","title","actions","classes","AppBar","appBar","Toolbar","variant","appToolBar","Typography","varient","map","a","i","IconButton","edge","menuButton","color","aria-label","codeWindowWrapper","CodeEditorWithToolBar","compose","withStyles","marginRight","spacing","padding","backgroundColor","minHeight","paddingLeft","paddingRight","flexGrow","TemplateEditorChannels","TemplateEditor","onSave","NewTemplateUpdate","renderActions","onClick","onChange","splitSize","value","DataEditorChannels","DataEditor","NewDataUpdate","AppPlain","onNewMessage","DataUpdate","TemplateUpdate","updateOuptputPreview","Data","Template","JSONData","JSON","parse","newOutput","render","Output","onSplitResize","newSize","VSplit","HSplit","split","onDragFinished","bind","minSize","defaultSize","val","App","paper","textAlign","palette","text","secondary","options","outerWrapper","lopts","WrappedComponent","opts","merge","channels","childRef","createRef","subscriptions","each","push","s","WithMessageBus","ReactDOM","StrictMode","document","getElementById"],"mappings":"qUAsBQA,EAASC,sBAETC,EACO,SAACC,EAASC,GACnB,OAAOJ,EAAOK,KAAKF,EAASC,IAF1BF,EAIE,SAACC,EAASG,GACVA,GACFN,EAAOO,KAAKJ,EAASG,IAgEpB,IAAME,EAA0B,SAACC,EAAeC,GACrD,GAAIC,IAAEC,QAAQF,GAAiB,CAC7B,IAD6B,EACvBG,EAAM,GADiB,cAEHH,GAFG,qBAEpBI,EAFoB,QAG3B,IAAMC,EAAON,EAAgB,IAAMK,EACnCD,EAAIC,GAAiBC,EACrBF,EAAI,MAAD,OAAOC,IAAmB,SAACE,GAC5B,MAAO,CAAEC,KAAMF,EAAMG,QAASF,KAJlC,2BAA0C,CAAC,IAAlCF,EAAiC,KAFb,8BAS7B,OAAOD,EAEP,MAAO,CACLM,QAASV,EAAgB,WACzBW,WAAY,SAACJ,GACX,MAAO,CAAEC,KAAMR,EAAgB,WAAYS,QAASF,IAEtDK,MAAOZ,EAAgB,SACvBa,SAAU,SAACN,GACT,MAAO,CAAEC,KAAMR,EAAgB,SAAUS,QAASF,IAEpDO,OAAQd,EAAgB,UACxBe,UAAW,SAACR,GACV,MAAO,CAAEC,KAAMR,EAAgB,UAAWS,QAASF,IAErDS,KAAMhB,EAAgB,QACtBiB,QAAS,SAACV,GACR,MAAO,CAAEC,KAAMR,EAAgB,QAASS,QAASF,MAMlD,SAASW,IAA8C,IAA9BrB,EAA6B,uDAAnB,GAAIH,EAAe,uDAAL,IACtD,IACED,EAAgBI,EAAQW,MAAQd,GAAW,IAAKG,GAChD,MAAOsB,GACPC,QAAQC,IAAI,0BAA2BF,ICjItC,IAAMG,EAAb,uKAEe,IAAD,EACgBC,KAAKC,MAAnBC,YADF,MACS,GADT,EAGN,OACI,8BAC4B,IAAxBA,EAAKC,QAAQ,MAEP,yBAAKC,wBAAyB,CAACC,OAAQH,EAAKI,QAAQ,iBAAkB,oBAGxEJ,OAZpB,GAAkCK,IAAMC,W,iCCY3BC,G,8BAAb,kDACE,WAAaR,GAAQ,IAAD,8BAClB,cAAMA,IAQRS,WAAa,KATO,EAUpBC,OAAS,KAPP,EAAKC,MAAQ,CACXC,gBAAiB,EACjBC,eAAgB,GALA,EADtB,gEAcId,KAAKe,qBAdT,yCAiBsBC,EAAWC,IF3BO,SAACC,EAAMC,EAASC,EAAUC,EAAcC,GAC5E,IAAIC,EAAM5C,IAAE6C,IAAIL,EAASD,EAAMG,GAC3BI,EAAM9C,IAAE6C,IAAIJ,EAAUF,EAAMG,GAOhC,OALI1C,IAAE+C,WAAWJ,KACfC,EAAMD,EAAU3C,IAAG4C,GACnBE,EAAMH,EAAU3C,IAAG8C,IAGd,CACLE,QAASJ,EACTK,SAAUH,EACVI,WAAYN,IAAQE,IEgBJK,CAAyB,YAAa9B,KAAKC,MAAOe,EAAW,GAEjEa,YACZ7B,KAAKe,qBArBX,yCA0BI,GAAIf,KAAKU,WAAY,CACnB,IAAMqB,EAAO/B,KAAKU,WAAWsB,wBAC7BhC,KAAKiC,SAAS,CACZpB,gBAAiBkB,EAAKG,OACtBpB,eAAgBiB,EAAKI,WA9B7B,+BAmCa,IAAD,SAC4CnC,KAAKY,MADjD,IACAC,uBADA,MACkB,EADlB,MACqBC,sBADrB,MACsC,EADtC,IAE4Cd,KAAKC,MAAjDmC,EAFA,EAEAA,UAFA,IAEWC,YAFX,MAEkB,aAFlB,EAEmCC,EAFnC,oCAGR,OAAO,yBAAKF,UAAWA,EAAWG,IAAK,SAACC,GAAQ,EAAK9B,WAAa8B,IAChE,kBAAC,IAAD,iBACMF,EADN,CAEEC,IAAK,SAACE,GAAQ,EAAK9B,OAAS8B,GAC5BP,OAAM,UAAKrB,EAAL,MACNsB,MAAK,UAAKrB,EAAL,MACL4B,MAAM,SACNL,KAAMA,EACNM,2BAAyB,UA9CjC,GAAgCpC,IAAMC,YCdzBoC,EAAgB,CACzBC,KAAM,CACFC,QAAS,OACTZ,OAAQ,OACRC,MAAO,OACPY,iBAAkB,kBAClBC,gBAAiB,MACjBC,kBAAmB,kBACnBC,SAAU,WACVC,UAAW,cAEfC,OAAQ,CACJC,SAAU,SACVH,SAAU,YAEdI,KAAM,CACFD,SAAU,OACVH,SAAU,a,SCmBZK,E,uKAEO,IAAD,EAC4CvD,KAAKC,MAAjDuD,EADA,EACAA,MADA,IACOC,eADP,MACiB,GADjB,EACmCnB,GADnC,EACqBF,UADrB,gDAGAsB,EAAY1D,KAAKC,MAAjByD,QACR,OAAO,yBAAKtB,UAAWsB,EAAQb,MAC7B,yBAAKT,UAAWsB,EAAQN,QACtB,kBAACO,EAAA,EAAD,CAAQvB,UAAWsB,EAAQE,OAAQV,SAAS,YAC1C,kBAACW,EAAA,EAAD,CAASC,QAAQ,QAAQ1B,UAAWsB,EAAQK,YAC1C,kBAACC,EAAA,EAAD,CAAYC,QAAQ,KAAK7B,UAAWsB,EAAQF,OACvCA,GAEJ7E,IAAEuF,IAAIT,GAAS,SAACU,EAAGC,GAAJ,OACb,kBAACC,EAAA,EAAD,CAAYC,KAAK,QAAQlC,UAAWsB,EAAQa,WAAYC,MAAM,UAAUC,aAAW,QAChFN,SAMZ,yBAAK/B,UAAWsB,EAAQJ,MACtB,kBAAC,EAAD,iBAAgBhB,EAAhB,CAAsBF,UAAWsB,EAAQgB,2B,GAtBRnE,IAAMC,WAiChCmE,EAJsBC,YACnCC,aAvDa,SAACnC,GAAD,mBAAC,eACXE,GADU,IAEb2B,WAAY,CACVO,YAAapC,EAAMqC,QAAQ,GAC3BC,QAAS,OAEXpB,OAAQ,CACNqB,gBAAiB,UACjBC,UAAW,QAEbnB,WAAY,CACVmB,UAAW,OACXC,YAAa,OACbC,aAAc,QAEhBV,kBAAmB,CACjBxC,OAAQ,OACRC,MAAO,OACPe,SAAU,YAEZM,MAAO,CACL6B,SAAU,QAiCuBT,CAEnCrB,G,iBC9DW+B,EAAyB9G,EAAwB,iBAAkB,CAAC,mBAEpE+G,EAAb,4MAEEC,OAAS,WACP7F,EAAe2F,EAAuBG,sBAH1C,EAMEC,cAAgB,WACd,MAAO,CACL,kBAAC,IAAD,CAAUC,QAAS,EAAKH,WAR9B,uDAYa,IAAD,EAC+BxF,KAAKC,MAApC2F,EADA,EACAA,SAAUC,EADV,EACUA,UAAWC,EADrB,EACqBA,MAC7B,OAAO,kBAAC,EAAD,CAAYtC,MAAM,WAAWoC,SAAUA,EAAUE,MAAOA,EAAOD,UAAWA,EAAWxD,KAAK,MAAMoB,QAASzD,KAAK0F,sBAdzH,GAAoCnF,IAAMC,WCF7BuF,EAAqBvH,EAAwB,aAAc,CAAC,eAE5DwH,EAAb,4MAEIR,OAAS,WACL7F,EAAeoG,EAAmBE,kBAH1C,EAMEP,cAAgB,WACd,MAAO,CACL,kBAAC,IAAD,CAAUC,QAAS,EAAKH,WAR9B,uDAYa,IAAD,EAC+BxF,KAAKC,MAApC2F,EADA,EACAA,SAAUC,EADV,EACUA,UAAWC,EADrB,EACqBA,MAC7B,OAAO,kBAAC,EAAD,CAAYtC,MAAM,OAAOoC,SAAUA,EAAUE,MAAOA,EAAOD,UAAWA,EAAWxD,KAAK,OAAOoB,QAASzD,KAAK0F,sBAdtH,GAAgCnF,IAAMC,WC0CzB0F,G,MAAb,kDACE,WAAajG,GAAQ,IAAD,8BAClB,cAAMA,IAWRkG,aAAe,SAAC7H,GAEd,OAAQA,EAAQW,MACd,KAAK8G,EAAmBK,WACxB,KAAKd,EAAuBe,eAC1B,EAAKC,yBAjBS,EAsBpBA,qBAAuB,WACrB,IAAK,IAAD,EACyB,EAAK1F,MAAxB2F,EADN,EACMA,KAAMC,EADZ,EACYA,SACRC,EAAWC,KAAKC,MAAMJ,GACtBK,EAAYC,iBAAOL,EAAUC,GACnC,EAAKxE,SAAS,CACZ6E,OAAQF,IAEV,MAAOhH,GACP,EAAKqC,SAAS,CACZ6E,OAAO,UAAD,OAAYlH,EAAItB,aAhCR,EAqCpByI,cAAgB,SAAChI,EAAMiI,GACrB,EAAK/E,SAAL,yBACMlD,EADN,SACoBiI,GAAW,KApC/B,EAAKpG,MAAQ,CACX4F,SAAU,GACVD,KAAM,GACNU,OAAQ,EACRC,OAAQ,EACRJ,OAAQ,IARQ,EADtB,qDA4Ca,IAAD,OACApD,EAAY1D,KAAKC,MAAjByD,QADA,EAEmD1D,KAAKY,MAAxD4F,EAFA,EAEAA,SAFA,IAEUS,cAFV,MAEmB,EAFnB,MAEsBC,cAFtB,MAE+B,EAF/B,EAEkCX,EAFlC,EAEkCA,KAAMO,EAFxC,EAEwCA,OAEhD,OACE,yBAAK1E,UAAWsB,EAAQb,MACtB,yBAAKT,UAAWsB,EAAQN,QACtB,kBAACO,EAAA,EAAD,CAAQT,SAAS,YACf,kBAACW,EAAA,EAAD,KACE,kBAACG,EAAA,EAAD,CAAYF,QAAQ,KAAK1B,UAAWsB,EAAQF,OAA5C,6DAMN,yBAAKpB,UAAWsB,EAAQJ,MACtB,kBAAC,IAAD,CAAW6D,MAAM,WAAWC,eAAgBpH,KAAK+G,cAAcM,KAAKrH,KAAM,KAAMsH,QAAS,QAASC,YAAa,OAC7G,kBAAC,EAAD,CAAcrH,KAAM4G,IACpB,kBAAC,IAAD,CAAWK,MAAM,aAAaC,eAAgBpH,KAAK+G,cAAcM,KAAKrH,KAAM,KAAMsH,QAAS,QAASC,YAAa,OAC/G,kBAAC,EAAD,CAAgBzB,MAAOU,EAAUX,UAAWoB,EAASC,EAAQtB,SAAU,SAAC4B,GAAU,EAAKvF,SAAS,CAAEuE,SAAUgB,OAC5G,kBAAC,EAAD,CAAY1B,MAAOS,EAAMV,UAAWoB,EAASC,EAAQtB,SAAU,SAAC4B,GAAU,EAAKvF,SAAS,CAAEsE,KAAMiB,eAhE9G,GAA8BjH,IAAMC,YAmFrBiH,EAVI7C,YACjBC,aA5Ga,SAACnC,GAAD,MAAY,CACzBG,KAAM,CACJC,QAAS,OACTZ,OAAQ,QACRC,MAAO,QACPY,iBAAkB,kBAClBC,gBAAiB,MACjBC,kBAAmB,kBACnBC,SAAU,WACVC,UAAW,cAEbC,OAAQ,CACNC,SAAU,SACVH,SAAU,YAEZI,KAAM,CACJD,SAAU,OACVH,SAAU,YAEZwE,MAAO,CACL1C,QAAStC,EAAMqC,QAAQ,GACvB4C,UAAW,SACXnD,MAAO9B,EAAMkF,QAAQC,KAAKC,WAE5BvD,WAAY,CACVO,YAAapC,EAAMqC,QAAQ,IAE7BvB,MAAO,CACL6B,SAAU,OPRL,SAAyB0C,GAC9B,IAAMC,EAAe,SAACC,GACpB,OAAO,SAACC,GACN,IAAMC,EAAOxJ,IAAEyJ,MAAM,CACnBC,SAAU,CAAC,MACVJ,GA2CH,OA9C2B,kDAMzB,WAAahI,GAAQ,IAAD,8BAClB,cAAMA,IAEDqI,SAAW/H,IAAMgI,YACtB,EAAKC,cAAgB,GAJH,EANK,gEAaH,IAAD,OACnB7J,IAAE8J,KAAKN,EAAKE,UAAU,SAAC7F,GACrB,EAAKgG,cAAcE,KAAKxK,EAAqBsE,EAAG,EAAK2D,aAAakB,KAAK,UAflD,mCAmBX/I,GACR0B,KAAKsI,SAASnH,QACZxC,IAAE+C,WAAW1B,KAAKsI,SAASnH,QAAQgF,cACrCnG,KAAKsI,SAASnH,QAAQgF,aAAa7H,GAEnCuB,QAAQC,IAAI,2BAGdD,QAAQC,IAAI,gBA3BS,6CAgCvBnB,IAAE8J,KAAKzI,KAAKwI,eAAe,SAACG,GACtBhK,IAAE+C,WAAWiH,IACfA,SAlCmB,+BAwCvB,OACE,kBAACT,EAAD,eAAkB3F,IAAKvC,KAAKsI,UAActI,KAAKC,YAzC1B,GAKJM,IAAMC,aA6CjC,OAAI7B,IAAE+C,WAAWqG,GACRC,EAAa,GAAbA,CAAiBD,GAGnBC,EAAaD,GOiCtBa,CAAe,CACbP,SAAU,CACRtC,EAAmBK,WACnBd,EAAuBe,kBALVzB,CAQjBsB,GC9HF2C,IAAShC,OACP,kBAAC,IAAMiC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.8353919d.chunk.js","sourcesContent":["import { createBus } from 'suber'\r\nimport _ from 'lodash'\r\nimport React from 'react'\r\n\r\nexport const componentGetCompareProps = (path, current, previous, defaultValue, transfrom) => {\r\n    let cur = _.get(current, path, defaultValue)\r\n    let pre = _.get(previous, path, defaultValue)\r\n  \r\n    if (_.isFunction(transfrom)) {\r\n      cur = transfrom(_, cur)\r\n      pre = transfrom(_, pre)\r\n    }\r\n  \r\n    return {\r\n      Current: cur,\r\n      Previous: pre,\r\n      HasChanged: cur !== pre\r\n    }\r\n  }\r\n\r\n\r\n  \r\n  const appBus = createBus()\r\n  \r\n  const MessageBus = {\r\n    subscribe: (channel, callback) => {\r\n      return appBus.take(channel, callback)\r\n    },\r\n    send: (channel, message) => {\r\n      if (message) {\r\n        appBus.send(channel, message)\r\n      }\r\n    }\r\n  }\r\n  \r\n  export function WithMessageBus (options) {\r\n    const outerWrapper = (lopts) => {\r\n      return (WrappedComponent) => {\r\n        const opts = _.merge({\r\n          channels: ['*']\r\n        }, lopts)\r\n  \r\n        class internal extends React.Component {\r\n          constructor (props) {\r\n            super(props)\r\n  \r\n            this.childRef = React.createRef()\r\n            this.subscriptions = []\r\n          }\r\n  \r\n          componentDidMount () {\r\n            _.each(opts.channels, (c) => {\r\n              this.subscriptions.push(MessageBus.subscribe(c, this.onNewMessage.bind(this)))\r\n            })\r\n          }\r\n  \r\n          onNewMessage (message) {\r\n            if (this.childRef.current) {\r\n              if (_.isFunction(this.childRef.current.onNewMessage)) {\r\n                this.childRef.current.onNewMessage(message)\r\n              } else {\r\n                console.log('MBH No Ref.onNewMessage')\r\n              }\r\n            } else {\r\n              console.log('MBH No Ref')\r\n            }\r\n          }\r\n  \r\n          componentWillUnmount () {\r\n            _.each(this.subscriptions, (s) => {\r\n              if (_.isFunction(s)) {\r\n                s()\r\n              }\r\n            })\r\n          }\r\n  \r\n          render () {\r\n            return (\r\n              <WrappedComponent ref={this.childRef} {...this.props} />\r\n            )\r\n          }\r\n        }\r\n  \r\n        return internal\r\n      }\r\n    }\r\n  \r\n    if (_.isFunction(options)) {\r\n      return outerWrapper({})(options)\r\n    }\r\n  \r\n    return outerWrapper(options)\r\n  }\r\n  \r\n  export const BuildMessageBusChannels = (componentName, customChannels) => {\r\n    if (_.isArray(customChannels)) {\r\n      const ret = {}\r\n      for (var customChannel of customChannels) {\r\n        const name = componentName + '.' + customChannel\r\n        ret[customChannel] = name\r\n        ret[`New${customChannel}`] = (payload) => {\r\n          return { Name: name, Payload: payload }\r\n        }\r\n      }\r\n      return ret\r\n    } else {\r\n      return {\r\n        Success: componentName + '.Success',\r\n        NewSuccess: (payload) => {\r\n          return { Name: componentName + '.Success', Payload: payload }\r\n        },\r\n        Error: componentName + '.Error',\r\n        NewError: (payload) => {\r\n          return { Name: componentName + '.Error', Payload: payload }\r\n        },\r\n        Closed: componentName + '.Closed',\r\n        NewClosed: (payload) => {\r\n          return { Name: componentName + '.Closed', Payload: payload }\r\n        },\r\n        Open: componentName + '.Open',\r\n        NewOpen: (payload) => {\r\n          return { Name: componentName + '.Open', Payload: payload }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  export function SendBusMessage (message = {}, channel = '*') {\r\n    try {\r\n      MessageBus.send(message.Name || channel || '*', message)\r\n    } catch (err) {\r\n      console.log('Send Bus Message Error:', err)\r\n    }\r\n  }\r\n  \r\n  ","import React from 'react'\r\n\r\nexport class OutputViewer extends React.Component {\r\n\r\n    render () {\r\n        const { html = '' } = this.props\r\n\r\n        return (\r\n            <div>\r\n              { html.indexOf('</') !== -1\r\n                  ? (\r\n                      <div dangerouslySetInnerHTML={{__html: html.replace(/(<? *script)/gi, 'illegalscript')}} >\r\n                      </div>\r\n                    )\r\n                  : html\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","/* eslint-disable import/first */\r\n/* eslint-disable import/no-webpack-loader-syntax */\r\nimport React from 'react'\r\n\r\nimport { componentGetCompareProps } from '../Helpers/Tools'\r\n\r\nimport AceEditor from 'react-ace'\r\n\r\nimport 'ace-builds/src-noconflict/ext-language_tools'\r\nimport 'ace-builds/src-noconflict/mode-json'\r\nimport 'ace-builds/src-noconflict/mode-ejs'\r\nimport 'ace-builds/src-noconflict/mode-javascript'\r\nimport 'ace-builds/src-noconflict/theme-github'\r\n\r\nexport class CodeEditor extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      containerHeight: 0,\r\n      containerWidth: 0\r\n    }\r\n  }\r\n\r\n  wrapperDiv = null\r\n  editor = null\r\n\r\n  componentDidMount () {\r\n    this.updateDimensions()\r\n  }\r\n\r\n  componentDidUpdate (prevProps, prevState) {\r\n    const splitSize = componentGetCompareProps('splitSize', this.props, prevProps, 0)\r\n\r\n    if (splitSize.HasChanged) {\r\n      this.updateDimensions()\r\n    }\r\n  }\r\n\r\n  updateDimensions () {\r\n    if (this.wrapperDiv) {\r\n      const rect = this.wrapperDiv.getBoundingClientRect()\r\n      this.setState({\r\n        containerHeight: rect.height,\r\n        containerWidth: rect.width\r\n      })\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { containerHeight = 0, containerWidth = 0 } = this.state\r\n    const { className, mode = 'javascript', ...rest } = this.props\r\n    return <div className={className} ref={(c) => { this.wrapperDiv = c }}>\r\n      <AceEditor\r\n        {...rest}\r\n        ref={(r) => { this.editor = r }}\r\n        height={`${containerHeight}px`}\r\n        width={`${containerWidth}px`}\r\n        theme='github'\r\n        mode={mode}\r\n        enableBasicAutocompletion\r\n      />\r\n    </div>\r\n  }\r\n}\r\n","export const TopBarAndBody = {\r\n    root: {\r\n        display: 'grid',\r\n        height: '100%',\r\n        width: '100%',\r\n        gridTemplateRows: 'max-content 1fr',\r\n        gridAutoColumns: '1fr',\r\n        gridTemplateAreas: '\"topBar\" \"body\"',\r\n        position: 'relative',\r\n        boxSizing: 'border-box'\r\n    },\r\n    topBar: {\r\n        gridArea: 'topBar',\r\n        position: 'relative'\r\n    },\r\n    body: {\r\n        gridArea: 'body',\r\n        position: 'relative'\r\n    }\r\n}","import React from 'react'\r\nimport { CodeEditor } from './CodeEditor'\r\nimport { TopBarAndBody } from '../Helpers/Styles'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { compose } from 'redux'\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport _ from 'lodash'\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst styles = (theme) => ({\r\n  ...TopBarAndBody,\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    padding: '5px'\r\n  },\r\n  appBar: {\r\n    backgroundColor: '#CDCDCD',\r\n    minHeight: '35px'\r\n  },\r\n  appToolBar: {\r\n    minHeight: '35px',\r\n    paddingLeft: '10px',\r\n    paddingRight: '10px'\r\n  },\r\n  codeWindowWrapper: {\r\n    height: '100%',\r\n    width: '100%',\r\n    position: 'relative'\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  }\r\n})\r\n\r\nclass CodeEditorWithToolBarPlain extends React.Component {\r\n  \r\n  render () {\r\n    const { title, actions = [], className, ...rest } = this.props\r\n\r\n    const { classes } = this.props\r\n    return <div className={classes.root}>\r\n      <div className={classes.topBar}>\r\n        <AppBar className={classes.appBar} position=\"relative\">\r\n          <Toolbar variant='dense' className={classes.appToolBar}>\r\n            <Typography varient='h6' className={classes.title}>\r\n                {title}\r\n            </Typography>\r\n            {_.map(actions, (a, i) => (\r\n               <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n                 {a}\r\n               </IconButton>\r\n            ))}\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n      <div className={classes.body}>\r\n        <CodeEditor {...rest} className={classes.codeWindowWrapper} />\r\n      </div>  \r\n    </div>\r\n  }\r\n\r\n}\r\n\r\nexport const CodeEditorWithToolBar = compose(\r\n  withStyles(styles)\r\n)(CodeEditorWithToolBarPlain)\r\n\r\nexport default CodeEditorWithToolBar","import React from 'react'\r\nimport CodeEditor from './Controls/CodeEditorWithToolBar'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { BuildMessageBusChannels, SendBusMessage } from './Helpers/Tools'\r\n\r\nexport const TemplateEditorChannels = BuildMessageBusChannels('TemplateEditor', ['TemplateUpdate'])\r\n\r\nexport class TemplateEditor extends React.Component {\r\n  \r\n  onSave = () => {\r\n    SendBusMessage(TemplateEditorChannels.NewTemplateUpdate())\r\n  }\r\n\r\n  renderActions = () => {\r\n    return [\r\n      <SaveIcon onClick={this.onSave} />\r\n    ]\r\n  } \r\n\r\n  render () {\r\n    const { onChange, splitSize, value } = this.props\r\n    return <CodeEditor title='Template' onChange={onChange} value={value} splitSize={splitSize} mode='ejs' actions={this.renderActions()} />\r\n      \r\n  }\r\n\r\n}\r\n","import React from 'react'\r\nimport CodeEditor from './Controls/CodeEditorWithToolBar'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { BuildMessageBusChannels, SendBusMessage } from './Helpers/Tools'\r\n\r\nexport const DataEditorChannels = BuildMessageBusChannels('DataEditor', ['DataUpdate'])\r\n\r\nexport class DataEditor extends React.Component {\r\n  \r\n    onSave = () => {\r\n        SendBusMessage(DataEditorChannels.NewDataUpdate())\r\n    }\r\n\r\n  renderActions = () => {\r\n    return [\r\n      <SaveIcon onClick={this.onSave} />\r\n    ]\r\n  } \r\n\r\n  render () {\r\n    const { onChange, splitSize, value } = this.props\r\n    return <CodeEditor title='Data' onChange={onChange} value={value} splitSize={splitSize} mode='json' actions={this.renderActions()} />\r\n      \r\n  }\r\n\r\n}","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { compose } from 'redux'\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport SplitPane from 'react-split-pane'\nimport { render } from 'ejs'\nimport { WithMessageBus } from './Helpers/Tools'\nimport { OutputViewer } from './OutputViewer'\nimport { TemplateEditor, TemplateEditorChannels } from './TemplateEditor'\nimport { DataEditor, DataEditorChannels } from './DataEditor'\n\nimport './SplitPane.css'\n\nconst styles = (theme) => ({\n  root: {\n    display: 'grid',\n    height: '100vh',\n    width: '100vw',\n    gridTemplateRows: 'max-content 1fr',\n    gridAutoColumns: '1fr',\n    gridTemplateAreas: '\"topBar\" \"body\"',\n    position: 'relative',\n    boxSizing: 'border-box'\n  },\n  topBar: {\n    gridArea: 'topBar',\n    position: 'relative'\n  },\n  body: {\n    gridArea: 'body',\n    position: 'relative'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  }\n})\n\n\n\nexport class AppPlain extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      Template: '',\n      Data: '',\n      VSplit: 0,\n      HSplit: 0,\n      Output: ''\n    }\n  }\n\n  onNewMessage = (message) => {\n    // eslint-disable-next-line default-case\n    switch (message.Name) {\n      case DataEditorChannels.DataUpdate:\n      case TemplateEditorChannels.TemplateUpdate:\n        this.updateOuptputPreview()\n        break\n    }\n  }\n\n  updateOuptputPreview = () => {\n    try {\n      const { Data, Template } = this.state\n      const JSONData = JSON.parse(Data)\n      const newOutput = render(Template, JSONData)\n      this.setState({\n        Output: newOutput\n      })\n    } catch (err) {\n      this.setState({\n        Output: `Error: ${err.message}`\n      })\n    }\n  }\n\n  onSplitResize = (name, newSize) => {\n    this.setState({\n      [`${name}Split`]: newSize || 0\n    })\n  }\n\n  render () {\n    const { classes } = this.props\n    const { Template, VSplit = 0, HSplit = 0, Data, Output } = this.state\n\n    return (\n      <div className={classes.root}>\n        <div className={classes.topBar}>\n          <AppBar position='relative'>\n            <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                (EJS) React Embedded JavaScipt Templates Designer Demo\n              </Typography>\n            </Toolbar>\n          </AppBar>\n        </div>\n        <div className={classes.body}>\n          <SplitPane split=\"vertical\" onDragFinished={this.onSplitResize.bind(this, 'V')} minSize={'100px'} defaultSize={'50%'}>\n            <OutputViewer html={Output} />\n            <SplitPane split=\"horizontal\" onDragFinished={this.onSplitResize.bind(this, 'H')} minSize={'100px'} defaultSize={'50%'}>\n              <TemplateEditor value={Template} splitSize={VSplit + HSplit} onChange={(val) => { this.setState({ Template: val })}} />\n              <DataEditor value={Data} splitSize={VSplit + HSplit} onChange={(val) => { this.setState({ Data: val })}} />\n            </SplitPane>\n          </SplitPane>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport const App = compose(\n  withStyles(styles),\n  WithMessageBus({\n    channels: [\n      DataEditorChannels.DataUpdate,\n      TemplateEditorChannels.TemplateUpdate\n    ]\n  })\n)(AppPlain)\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}