(this.webpackJsonpejspoc=this.webpackJsonpejspoc||[]).push([[0],{53:function(e,t,a){e.exports=a(82)},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(17),o=a.n(r),c=a(25),s=a(7),l=a(8),u=a(10),p=a(9),d=a(5),m=a(27),h=a(103),v=a(100),f=a(101),g=a(32),b=a(40),O=a(48),j=a(41),y=a(6),E=a.n(y),S=Object(j.createBus)(),N=function(e,t){return S.take(e,t)},w=function(e,t){t&&S.send(e,t)};var C=function(e,t){if(E.a.isArray(t)){var a,n={},i=Object(O.a)(t);try{var r=function(){o=a.value;var t=e+"."+o;n[o]=t,n["New".concat(o)]=function(e){return{Name:t,Payload:e}}};for(i.s();!(a=i.n()).done;){var o;r()}}catch(c){i.e(c)}finally{i.f()}return n}return{Success:e+".Success",NewSuccess:function(t){return{Name:e+".Success",Payload:t}},Error:e+".Error",NewError:function(t){return{Name:e+".Error",Payload:t}},Closed:e+".Closed",NewClosed:function(t){return{Name:e+".Closed",Payload:t}},Open:e+".Open",NewOpen:function(t){return{Name:e+".Open",Payload:t}}}};function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";try{w(e.Name||t||"*",e)}catch(a){console.log("Send Bus Message Error:",a)}}var B=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.html,t=void 0===e?"":e;return i.a.createElement("div",null,-1!==t.indexOf("</")?i.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.replace(/(<? *script)/gi,"illegalscript")}}):t)}}]),a}(i.a.Component),x=a(29),k=a(30),R=a(42),T=a.n(R),z=(a(71),a(72),a(73),a(74),a(75),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).wrapperDiv=null,n.editor=null,n.state={containerHeight:0,containerWidth:0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateDimensions()}},{key:"componentDidUpdate",value:function(e,t){(function(e,t,a,n,i){var r=E.a.get(t,e,n),o=E.a.get(a,e,n);return E.a.isFunction(i)&&(r=i(E.a,r),o=i(E.a,o)),{Current:r,Previous:o,HasChanged:r!==o}})("splitSize",this.props,e,0).HasChanged&&this.updateDimensions()}},{key:"updateDimensions",value:function(){if(this.wrapperDiv){var e=this.wrapperDiv.getBoundingClientRect();this.setState({containerHeight:e.height,containerWidth:e.width})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.containerHeight,n=void 0===a?0:a,r=t.containerWidth,o=void 0===r?0:r,c=this.props,s=c.className,l=c.mode,u=void 0===l?"javascript":l,p=Object(x.a)(c,["className","mode"]);return i.a.createElement("div",{className:s,ref:function(t){e.wrapperDiv=t}},i.a.createElement(T.a,Object.assign({},p,{ref:function(t){e.editor=t},height:"".concat(n,"px"),width:"".concat(o,"px"),theme:"github",mode:u,enableBasicAutocompletion:!0})))}}]),a}(i.a.Component)),A={root:{display:"grid",height:"100%",width:"100%",gridTemplateRows:"max-content 1fr",gridAutoColumns:"1fr",gridTemplateAreas:'"topBar" "body"',position:"relative",boxSizing:"border-box"},topBar:{gridArea:"topBar",position:"relative"},body:{gridArea:"body",position:"relative"}},H=a(102),M=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.actions,n=void 0===a?[]:a,r=(e.className,Object(x.a)(e,["title","actions","className"])),o=this.props.classes;return i.a.createElement("div",{className:o.root},i.a.createElement("div",{className:o.topBar},i.a.createElement(h.a,{className:o.appBar,position:"relative"},i.a.createElement(v.a,{variant:"dense",className:o.appToolBar},i.a.createElement(f.a,{varient:"h6",className:o.title},t),E.a.map(n,(function(e,t){return i.a.createElement(H.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"menu"},e)}))))),i.a.createElement("div",{className:o.body},i.a.createElement(z,Object.assign({},r,{className:o.codeWindowWrapper}))))}}]),a}(i.a.Component),P=Object(m.a)(Object(d.a)((function(e){return Object(k.a)(Object(k.a)({},A),{},{menuButton:{marginRight:e.spacing(2),padding:"5px"},appBar:{backgroundColor:"#CDCDCD",minHeight:"35px"},appToolBar:{minHeight:"35px",paddingLeft:"10px",paddingRight:"10px"},codeWindowWrapper:{height:"100%",width:"100%",position:"relative"},title:{flexGrow:1}})})))(M),U=a(28),W=a.n(U),J=C("TemplateEditor",["TemplateUpdate"]),F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSave=function(){D(J.NewTemplateUpdate())},e.renderActions=function(){return[i.a.createElement(W.a,{onClick:e.onSave})]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.splitSize,n=e.value;return i.a.createElement(P,{title:"Template",onChange:t,value:n,splitSize:a,mode:"ejs",actions:this.renderActions()})}}]),a}(i.a.Component),V=C("DataEditor",["DataUpdate"]),G=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSave=function(){D(V.NewDataUpdate())},e.renderActions=function(){return[i.a.createElement(W.a,{onClick:e.onSave})]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.splitSize,n=e.value;return i.a.createElement(P,{title:"Data",onChange:t,value:n,splitSize:a,mode:"json",actions:this.renderActions()})}}]),a}(i.a.Component),I=(a(81),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onNewMessage=function(e){switch(e.Name){case V.DataUpdate:case J.TemplateUpdate:n.updateOuptputPreview()}},n.updateOuptputPreview=function(){try{var e=n.state,t=e.Data,a=e.Template,i=JSON.parse(t),r=Object(b.render)(a,i);n.setState({Output:r})}catch(o){n.setState({Output:"Error: ".concat(o.message)})}},n.onSplitResize=function(e,t){n.setState(Object(c.a)({},"".concat(e,"Split"),t||0))},n.state={Template:"<div>\n          <ul>\n              <% People.forEach(function(person) { %>\n                  <li><%= person %></li>\n              <% }) %>\n          </ul>\n      </div>",Data:'{\n        "People": [\n            "Jane",\n            "John",\n            "Hank"\n        ]\n      }',VSplit:0,HSplit:0,Output:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.Template,r=a.VSplit,o=void 0===r?0:r,c=a.HSplit,s=void 0===c?0:c,l=a.Data,u=a.Output;return i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.topBar},i.a.createElement(h.a,{position:"relative"},i.a.createElement(v.a,null,i.a.createElement(f.a,{variant:"h6",className:t.title},"(EJS) React Embedded JavaScipt Templates Designer Demo")))),i.a.createElement("div",{className:t.body},i.a.createElement(g.a,{split:"vertical",onDragFinished:this.onSplitResize.bind(this,"V"),minSize:"100px",defaultSize:"50%"},i.a.createElement(B,{html:u}),i.a.createElement(g.a,{split:"horizontal",onDragFinished:this.onSplitResize.bind(this,"H"),minSize:"100px",defaultSize:"50%"},i.a.createElement(F,{value:n,splitSize:o+s,onChange:function(t){e.setState({Template:t})}}),i.a.createElement(G,{value:l,splitSize:o+s,onChange:function(t){e.setState({Data:t})}})))))}}]),a}(i.a.Component)),L=Object(m.a)(Object(d.a)((function(e){return{root:{display:"grid",height:"100vh",width:"100vw",gridTemplateRows:"max-content 1fr",gridAutoColumns:"1fr",gridTemplateAreas:'"topBar" "body"',position:"relative",boxSizing:"border-box"},topBar:{gridArea:"topBar",position:"relative"},body:{gridArea:"body",position:"relative"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),function(e){var t=function(e){return function(t){var a=E.a.merge({channels:["*"]},e);return function(e){Object(u.a)(r,e);var n=Object(p.a)(r);function r(e){var t;return Object(s.a)(this,r),(t=n.call(this,e)).childRef=i.a.createRef(),t.subscriptions=[],t}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;E.a.each(a.channels,(function(t){e.subscriptions.push(N(t,e.onNewMessage.bind(e)))}))}},{key:"onNewMessage",value:function(e){this.childRef.current?E.a.isFunction(this.childRef.current.onNewMessage)?this.childRef.current.onNewMessage(e):console.log("MBH No Ref.onNewMessage"):console.log("MBH No Ref")}},{key:"componentWillUnmount",value:function(){E.a.each(this.subscriptions,(function(e){E.a.isFunction(e)&&e()}))}},{key:"render",value:function(){return i.a.createElement(t,Object.assign({ref:this.childRef},this.props))}}]),r}(i.a.Component)}};return E.a.isFunction(e)?t({})(e):t(e)}({channels:[V.DataUpdate,J.TemplateUpdate]}))(I);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(L,null)),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.932fe3e2.chunk.js.map